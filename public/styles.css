 /* Paleta de colores */
:root {
    --gradient-start: #6ac56c;
    --gradient-end: #3d8f4c;
    --card-bg: rgba(255, 255, 255, 0.1);
    --text-color: #fff;
    --shadow: rgba(0, 0, 0, 0.1);
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f0f2f5; /* Un color de fondo claro para la p√°gina */
    color: #333; /* Color de texto oscuro para el contenido general */


    /* Soluci√≥n CSS para el scroll ultimos cambios 7-10 */
    touch-action: pan-x pan-y;
    -ms-touch-action: pan-x pan-y;
}

.app-container {
    width: 402px;
    height: 575px;
    background: url("iconos/Shiny\ Overlay.svg");
    background-size: cover;
    background-position: center;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    position: absolute;
    overflow: hidden; /* üî• Evita que los contenedores se salgan o ‚Äúcorten‚Äù */
    min-width: 354px;
    min-height: 501px;
}

header {
  display: flex;
  justify-content: space-between;
  padding: 5px 0;
  color: white;
  cursor: grab;  /* Para indicar que se puede mover */
}

header:active {
  cursor: grabbing;
}

/* Icono del men√∫ */    
.menu-icon {
    cursor: pointer;
    position: relative; /* üî• referencia para el men√∫ */
    z-index: 10;
}

.menu-icon .bar {
    display: block;
    width: 20px;
    height: 3px;
    background: var(--text-color, #fff);
    margin: 3px 0;
    border-radius: 2px;
}

/* Men√∫ emergente */
.menu-popup {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 8px;
    width: 150px;

    /* --- ESTILO "FROSTED GLASS" --- */
    background: rgba(77, 153, 77, 0.5);  /* Fondo transl√∫cido oscuro */
    backdrop-filter: blur(12px);          /* ü™Ñ ¬°La magia! Desenfoque del fondo */
    -webkit-backdrop-filter: blur(12px);  /* Para compatibilidad con Safari */
    border: 1px solid rgba(255, 255, 255, 0.1); /* Borde sutil que simula el reflejo */
    box-shadow: 0 8px 24px rgba(0,0,0,0.35);
    /* ------------------------------- */

    border-radius: 10px;
    padding: 10px;
    flex-direction: column;
    align-items: stretch;
    z-index: 20;
}

.menu-popup button {
    background: #284628;
    border: none;
    color: white;
    padding: 10px;
    margin: 5px 0;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    text-align: left;
    transition: background 0.3s;
    width: 100%;
}

.menu-popup button:hover {
    background: #45a049;
}





/*----------------------------*/
/* Primera ventana */
/*----------------------------*/

main {
    flex-grow: 1;
    display: flex;
    flex-direction: column;

    justify-content: space-between;
}


.options-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  max-height: 300px; /* Mantienes el l√≠mite de altura */
  overflow-y: auto;
  padding-top: 5px;
  padding-bottom: 15px;
  /* El padding-right es clave para dar espacio a la barra, si no hay padding,
     la barra se pegar√° al borde del contenedor y puede verse mal. */
  padding-right: 10px; /* A√±ade espacio para la scrollbar */

  margin-top: auto;

  /* ---------------------------------------------------- */
  /* --- PERSONALIZACI√ìN DEL SCROLLBAR (CHROME, SAFARI, EDGE) --- */
  /* ---------------------------------------------------- */

  /* Estilo general del scrollbar */
  &::-webkit-scrollbar {
    width: 8px; /* Ancho de la barra de desplazamiento vertical */
  }

  /* Estilo de la pista (track) por donde se mueve el pulgar */
  &::-webkit-scrollbar-track {
    background: transparent; /* Fondo transparente para minimalismo */
    /* Opcional: puedes poner un color oscuro sutil si lo prefieres: background: rgba(0, 0, 0, 0.1); */
  }

  /* Estilo del "pulgar" (thumb) que arrastras */
  &::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3); /* Blanco semi-transparente, queda bien con fondo oscuro */
    /* O puedes usar un color m√°s oscuro: background-color: rgba(0, 0, 0, 0.5); */
    border-radius: 10px; /* Bordes redondeados */
    border: 2px solid transparent; /* IMPORTANTE: Transparente para evitar que el fondo blanco de la barra se vea si lo hubiera */
  }

  /* Estilo del pulgar al pasar el rat√≥n */
  &::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.5); /* Se vuelve un poco m√°s s√≥lido al pasar el mouse */
  }

  /* ------------------------------------------------ */
  /* --- PERSONALIZACI√ìN DEL SCROLLBAR (FIREFOX) --- */
  /* ------------------------------------------------ */
  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
  scrollbar-width: thin; /* Hace la barra m√°s delgada (para Firefox) */

}



.greeting, .question {
    color: white;
}

.greeting {
    /* Nuevo estilo: Reduce el margen superior por defecto de H1 */
    margin-top: -15px; /* Mueve el saludo m√°s cerca del header (ajusta este valor) */
    margin-bottom: 5px; /* Opcional: Reduce el espacio debajo del saludo */
}


.question {
    color: white;
    margin-top: -5px;
    margin-bottom: 30px;
    
    /* ESTILOS PARA ALINEAR ICONO Y TEXTO (se mantienen) */
    display: flex;
    align-items: center;
    gap: 8px; /* Espacio entre el texto y el icono */
    font-size: 1rem;
}

.plant-icon-main {
    /* Hacemos el icono un poco m√°s grande: de 1.2rem a 1.5rem */
    width: 2rem; 
    height: 2rem;
}

.option-card {
    background: rgba(0, 0, 0, 0.25); /* m√°s contraste que el blanco */
    border-radius: 15px;
    padding: 8px;
    display: flex;
    align-items: center;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* m√°s fuerte que antes */
    transition: transform 0.2s ease, box-shadow 0.3s ease;
    color: white;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6); /* mejora legibilidad del texto */
}

.option-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5); /* brilla un poco m√°s al hover */
}

.option-card p {
    margin: 0;
    font-size: 0.9rem;
}

.option-icon {
    width: 40px; /* Ancho de la imagen */
    height: 40px; /* Altura de la imagen */
    margin-right: 15px; /* Espacio entre el √≠cono y el texto */
    border-radius: 10px;
    /* Aqu√≠ puedes a√±adir m√°s estilos, como border-radius si quieres que sean circulares */
}




/* --------------------- */
/* Pin notes */
/* --------------------- */


.pin-notes-container {
  display: grid;
  grid-template-columns: 1.3fr 1fr; /* Columna izquierda m√°s ancha */
  grid-template-rows: 1fr 1fr; /* Dos filas iguales */
  gap: 10px;
  width: 100%;
  margin-bottom: 20px;
}

/* --- Estilo general de cada nota --- */
.pin-note {
  position: relative;
  border: 1px solid #f2e17c;
  border-radius: 15px;
  box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
  font-size: 0.85rem;
  padding: 10px;
  background-color: transparent;
  overflow: hidden;
}

/* Capa semitransparente para mejorar legibilidad del texto */
.pin-note::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.25);
  border-radius: 15px;
  z-index: 0;
}

/* Texto encima del fondo */
.pin-note p {
  position: relative;
  z-index: 1;
  color: #fff;
}

/* La primera nota ocupa el alto completo de la izquierda */
.pin-note:nth-child(1) {
  grid-row: 1 / span 2;
  background-image: url('iconos/Fondo1.webp');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.pin-note:nth-child(2) {
  background-image: url('iconos/Fondo2.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.pin-note:nth-child(3) {
  background-image: url('iconos/Fondo3.webp');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Efecto hover */
.pin-note:hover {
  transform: translateY(-5px);
  box-shadow: 4px 6px 12px rgba(0, 0, 0, 0.3);
}

/* --- Popup de la nota --- */
.pin-note-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff8a1;
  border: 2px solid #f2e17c;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  padding: 20px;
  z-index: 50;
  width: 250px;
  height: 250px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.pin-note-popup.hidden {
  display: none;
}

.popup-content {
  position: relative;
}

.close-popup {
  position: absolute;
  top: 5px;
  right: 10px;
  font-size: 1.5rem;
  cursor: pointer;
}






/*----------------------------*/
/* Segunda ventana */
/*----------------------------*/

.app-container-static {
    width: 350px;
    height: 500px;
    background: #509b2a;
    background: linear-gradient(178deg, rgba(80, 155, 42, 1) 20%, rgba(73, 184, 119, 1) 76%);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    position: relative; /* Es crucial para que las pantallas se posicionen correctamente */
}


.chatbot-image {
    width: 230px;  /* Ajusta el ancho a un tama√±o m√°s peque√±o (ej. 150px) */
    height: auto;  /* Mantiene la proporci√≥n autom√°ticamente */
    margin: 15px 0 20px 0; 
}

.screen-microfono {
    display: flex; 
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    text-align: center;
    position: absolute; 
    top: 70px;
    left: 20px;
    right: 20px;
    bottom: 20px;
}

.screen-microfono.hidden {
    display: none !important;
}

.screen-microfono h1,
.screen-microfono p,
.screen-microfono .microphone-button,
.screen-microfono .chatbot-image {
    /* Esto garantiza que todos los elementos dentro del div se muestren */
    display: flex; /* O 'block' si prefieres */
    flex-direction: column;
    align-items: center;
    margin: 10px 0; /* Un poco de espacio entre elementos */
}


.microphone-button {
    /* Establece un tama√±o base para el contenedor del micr√≥fono */
    width: 80px; /* Tama√±o similar al GIF, ajusta si es necesario */
    height: 80px; /* Para hacerlo circular o cuadrado si no lo es ya */
    
    display: flex;
    justify-content: center;
    align-items: center;
    
    /* Opcional: Estilos para que parezca un bot√≥n */
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%; /* Lo hace circular */
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    transition: transform 0.2s;
}

.microphone-button:active {
    transform: scale(0.95);
}

.microphone-button img {
    /* Ajusta el tama√±o de la imagen DENTRO del bot√≥n */
    width: 60%; /* La imagen ocupar√° el 60% del ancho del contenedor (150px) */
    height: auto;
    /* Esto permite que la imagen del micr√≥fono se vea bien centrada dentro del c√≠rculo de 150x150px */
}







/* ---------------------------- */
/* ---------------------------- */
/* Primera ventana (principal) Menu de inicio */
/* ---------------------------- */
.screen-principal {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 70px;
    left: 20px;
    right: 20px;
    bottom: 20px;
}

.screen-principal.hidden {
    display: none !important;
}


/* Estilos del Bot√≥n de Regreso (Back Button) */
/* ------------------------------------- */
.back-button {
    /* Mueve el bot√≥n de regreso a la izquierda del header */
    order: -1; /* Esto asegura que se posicione antes que el menu-icon */
    font-size: 1.5rem;
    cursor: pointer;
    font-weight: 600;
    margin-right: 15px; /* Mueve el icono a la derecha, separ√°ndolo del borde */
    color: var(--text-color); /* Asegura que el color sea blanco */
    /* Aseg√∫rate de que no tenga m√°rgenes que lo separen del borde izquierdo */
    padding: 0;
}

/* Estilo para cuando el bot√≥n est√° oculto */
.hidden {
    display: none !important;
}




/*----------------------------*/
/* Tercera ventana - Chat */
/*----------------------------*/

.screen-chat {
  display: flex;
  flex-direction: column;
  height: 100%;
  color: white;
  overflow: hidden; /* Evita que el scroll de la ventana empuje el input */
}

.chat-box {
  flex: 1;                /* Ocupa todo el espacio disponible */
  overflow-y: auto;       /* Scroll solo aqu√≠ */
  background: rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  padding: 10px;
  margin-bottom: 10px;
  backdrop-filter: blur(8px);

  display: flex;
  flex-direction: column;
  gap: 10px;
}

.message {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 70%;
  word-wrap: break-word;
}

/* Mensajes del bot a la izquierda */
.message.bot {
  background: #E5E5EA; /* Un gris muy suave y neutro */
  color: #000000;      /* Texto negro para m√°xima legibilidad */
  align-self: flex-start;
  text-align: left;
  border-radius: 18px 18px 18px 5px; /* Bordes m√°s redondeados y consistentes */
  padding: 8px 12px;
}

/* Mensajes del usuario: fondo azul vibrante, texto blanco */
.message.user {
  background: #955cca; /* Azul brillante, excelente contraste */
  color: #FFFFFF;      /* Texto blanco */
  align-self: flex-end;
  text-align: right;
  border-radius: 18px 18px 5px 18px; /* Bordes consistentes con el bot */
}

/* Input del chat */

.chat-input-area {
  flex-shrink: 0; /* No se encoge ni se desplaza */
  display: flex;
  gap: 10px;
}

.chat-input-area input {
  flex-grow: 1;
  padding: 10px;
  border-radius: 10px;
  border: none;
  outline: none;
}

.chat-input-area button {
  background: #6ac56c;
  border: none;
  border-radius: 10px;
  padding: 0 15px;
  cursor: pointer;
  color: white;
  font-weight: bold;
}


/* Botones de opciones en chat */
.chat-options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
}

/* Cada opci√≥n */
.chat-option {
    background: rgba(244, 67, 54, 0.8); /* rojo complementario semitransparente */
    padding: 8px 12px;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s, background 0.2s;
    color: white;
    font-size: 0.9rem;
    text-align: center;
    backdrop-filter: blur(5px);
}

.chat-option:hover {
    background: rgba(244, 67, 54, 1); /* m√°s intenso al pasar el mouse */
    transform: translateY(-2px);
}

.refresh-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  margin-left: 10px;
  cursor: pointer;
  font-size: 18px;
  color: white;
  background: rgba(255,255,255,0.1);
  border-radius: 6px;
  transition: background 0.2s;
}

.refresh-button:hover {
  background: rgba(255,255,255,0.2);
}




/*
 * ----------------------------------------------------
 * RESPONSIVE DESIGN - MEDIA QUERY PARA M√ìVILES
 * ----------------------------------------------------
 */
@media (max-width: 600px) {
    /* 1. Resetear el BODY para ocupar el 100% del viewport */
    body {
        /* Quita el centrado y ajusta la altura m√≠nima para ser adaptable */
        align-items: flex-start; /* Opcional: para que el contenido empiece arriba */
        padding: 0;
        margin: 0;
        min-height: 100vh;
        
        /* SOLUCI√ìN AL PROBLEMA DE ZOOM/SCROLL EN M√ìVILES */
        /* Evita que los navegadores m√≥viles hagan zoom o scaling de la p√°gina,
           lo que a menudo rompe el desplazamiento. */
        touch-action: pan-x pan-y;
        -ms-touch-action: pan-x pan-y;
    }

    /* 2. El Contenedor Principal (App Container) debe ocupar el 100% */
    .app-container,
    .app-container-static {
        width: 100vw; /* Ancho completo del Viewport */
        height: 100vh; /* Alto completo del Viewport (toda la pantalla) */
        max-width: 100%;
        min-width: unset; /* Elimina la restricci√≥n de ancho m√≠nimo */
        min-height: unset; /* Elimina la restricci√≥n de alto m√≠nimo */
        
        /* Quita la posici√≥n absoluta que ten√≠as, es mejor para m√≥vil */
        position: relative; 
        
        /* Elimina los bordes redondeados en m√≥vil para usar toda la pantalla */
        border-radius: 0; 
        
        /* Quita la sombra para una apariencia m√°s nativa */
        box-shadow: none; 
        
        /* Asegura que el contenido del body no afecte el app-container */
        padding: 20px 20px 0 20px; /* Reduce el padding si es necesario */
    }
    
    /* 3. Asegura que el contenido dentro del contenedor principal tenga el tama√±o adecuado */
    .screen-principal,
    .screen-microfono {
        /* Ajusta el top y bottom para dejar espacio al header */
        top: 60px; /* Un poco menos de espacio que 70px */
        bottom: 0px; /* Pega al borde inferior (donde ir√° el input) */
        
        /* Asegura que el resto del contenido se ajuste bien */
        left: 0;
        right: 0;
        padding: 0 20px; /* Padding horizontal para evitar que el contenido toque los bordes */
    }
    
    /* Ajuste espec√≠fico para el contenedor de chat si lo tienes en otra pantalla */
    .screen-chat {
        height: 100%;
    }
}












/* ---------------------------- */
/* Redimencion de la ventana */
/* ---------------------------- */

.resize-handle {
    position: absolute;
    /* Un peque√±o margen para que sea m√°s f√°cil de agarrar */
    /* El tama√±o base ser√° peque√±o y solo se expandir√° con el :hover */
    /* Para debug, puedes poner un color de fondo: background: rgba(255, 0, 0, 0.2); */
    z-index: 1000; /* Asegura que est√©n por encima de todo */
}

/* Bordes (M√°s f√°cil de agarrar horizontal o verticalmente) */
.resize-handle.top,
.resize-handle.bottom {
    left: 0;
    right: 0;
    height: 10px; /* Altura para hacer clic */
    cursor: ns-resize; /* Cursor para redimensionamiento vertical */
}

.resize-handle.left,
.resize-handle.right {
    top: 0;
    bottom: 0;
    width: 10px; /* Ancho para hacer clic */
    cursor: ew-resize; /* Cursor para redimensionamiento horizontal */
}

.resize-handle.top {
    top: -5px; /* Mitad afuera, mitad adentro */
}

.resize-handle.bottom {
    bottom: -5px;
}

.resize-handle.left {
    left: -5px;
}

.resize-handle.right {
    right: -5px;
}

/* Esquinas (Un poco m√°s grandes y con el cursor diagonal) */
.resize-handle.topleft,
.resize-handle.bottomright {
    width: 15px;
    height: 15px;
    cursor: nwse-resize; /* Cursor diagonal */
}

.resize-handle.topright,
.resize-handle.bottomleft {
    width: 15px;
    height: 15px;
    cursor: nesw-resize; /* Cursor diagonal opuesto */
}

.resize-handle.topleft {
    top: -7.5px;
    left: -7.5px;
}

.resize-handle.topright {
    top: -7.5px;
    right: -7.5px;
}

.resize-handle.bottomleft {
    bottom: -7.5px;
    left: -7.5px;
}

.resize-handle.bottomright {
    bottom: -7.5px;
    right: -7.5px;
}